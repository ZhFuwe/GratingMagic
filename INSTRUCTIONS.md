# GratingMagic 操作指南 (v1.0)


欢迎使用 GratingMagic！这是一款操作简单、功能强大的光栅卡制作工具，旨在帮助您轻松地将多张图像合成为一张可用于打印的、具有动态效果的光栅图像。

### 目录

1. **快速入门：三步制作您的第一张光栅卡**
    
2. **界面概览**
    
3. **详细功能说明**
    
    - 3.1 图像管理
        
    - 3.2 合成参数设置
        
    - 3.3 打印参数设置
        
4. **工作流程**
    
    - 为固定像素尺寸的图像进行合成
        
    - 为固定的物理打印尺寸进行合成
        
5. **常见问题解答 (FAQ)**
    

---

### 1. 快速入门：三步制作您的第一张光栅卡

跟随以下三个简单步骤，快速体验从导入到保存的全过程。

1. **导入图像**
    
    - 点击界面右上角的 **【导入图像...】** 按钮。
        
    - 在弹出的文件对话框中，按住`Ctrl`或`Shift`键，选择2张或更多您想要制作为动画的图片（`jpg`或`png`格式），然后点击“打开”。
        
    - 您会看到图像的缩略图和文件名出现在右侧的列表中，同时左侧预览区会显示合成后的预览效果。
	    
        
2. **调整参数**
    
    - 在“合成参数设置”栏目下，选择“横向“或”纵向“切分。
        
    - 调整“切片宽度(像素)”的数值。通常，较小的值会产生更精细的条纹。
        
3. **生成并保存**
    
    - 点击界面右下角蓝色的 **【生成并保存图像...】** 按钮。
        
    - 如果您未设置物理打印尺寸，程序会弹窗告诉您推荐的打印大小，如果采纳建议值请记住它以便后续排版操作，点击“是(Yes)”即可。
        
    - 在弹出的保存对话框中，选择一个位置，输入文件名，然后点击“保存”。
        

恭喜您！您的第一张光栅图像已经制作完成，可以进行排版打印了。

---

### 2. 界面概览

- **A - 预览区**: 显示实时合成的光栅图像效果。您在此处看到的是最终成品的水印版本。
    
- **B - 图像管理**: 导入、排序和删除您的源图像（动画的每一帧）。
    
- **C - 参数设置**: 设置光栅合成的基础技术参数、控制最终打印品的物理尺寸。
    
- **D - 生成操作**: 完成所有设置后，从这里导出最终的高清光栅图像。

<img width="840" height="662" alt="PixPin_2025-07-15_16-14-20" src="https://github.com/user-attachments/assets/36c99265-f12a-471d-b46f-f70f747ef3a9" />


---

### 3. 详细功能说明

#### 3.1 图像管理

- **导入图像**: 支持一次性导入多张图片。所有导入的图片会自动缓存到内存中。
    
- **图像列表**:
    
    - 显示了所有帧的顺序、缩略图和文件名。
        
    - **单击**列表中的某一项来选中它。
        
    - 按住`Ctrl`并单击，可以选择多个不连续的项。
        
- **上移/下移**: 必须**只选中一项**时才可用。用于精确调整动画帧的播放顺序。
    
- **删除**: 可以选中一项或多项进行删除。
    

#### 3.2 合成参数设置

- **切分方向**:
    
    - **纵向切分 (默认)**: 光栅条纹是垂直的。当您左右晃动光栅卡时看到动画效果。这是最常见的类型。
        
    - **横向切分**: 光栅条纹是水平的。当您上下晃动光栅卡时看到动画效果。
        
- **切片宽度(像素)**: 这是核心算法参数，指**从每一帧图像中切下的条带的像素宽度**。例如，设为4，意味着程序会从第一张图取4像素宽的条带，再从第二张图取4像素宽的条带，以此类推，将它们拼接起来。
    

#### 3.3 打印参数设置（高级）

此功能用于将数字世界的“像素”与物理世界的“厘米”和“LPI”关联起来。

- **期望的打印尺寸 (厘米)**:
    
    - **作用**: 如果您希望最终打印出来的实体卡片有一个精确的物理宽度（例如，一张标准的10厘米宽明信片），请在此处输入该宽度值。
        
    - **效果**: 输入数值并按回车或将焦点移开后，程序会根据下方LPI等参数，自动计算出为了达到此物理尺寸所需要的像素尺寸，并弹窗询问您是否将图像缩放到该像素尺寸。
        
    - **设为0**: 如果您不关心物理尺寸，或想撤销之前的缩放操作，请将此值设为`0.00`。
        
- **光栅板实际LPI (Lines Per Inch)**: 您购买的物理光栅板的规格，例如 `90` LPI。
    
- **打印机校准LPI**: 通过打印LPI测试图，在光栅板下观察得到的、效果最佳的那个LPI值，它可能与实际LPI有微小差异，例如 `90.5`。
    

---

### 4. 工作流程

#### 为固定像素尺寸的图像进行合成

如果您只关心数字图像本身，不在乎打印尺寸，请遵循此流程。

1. 导入所有图像。
    
2. 在图像列表中调整好顺序。
    
3. 设置好“切分方向”和“切片宽度”。
    
4. **确保“期望的打印尺寸”为 `0.00`**。
    
5. 点击【生成并保存图像...】。在弹出的推荐尺寸对话框中点击“是”。
    
6. 选择路径并保存。
    

#### 为固定的物理打印尺寸进行合成

如果您需要制作一张15厘米宽的实体卡片，请遵循此流程。

1. 导入所有图像。
    
2. 调整顺序。
    
3. 设置“切分方向”和“切片宽度”。
    
4. 在“打印参数设置”中，输入准确的LPI值。
    
5. 在**“期望的打印尺寸”**输入框中，输入`15.00`，然后按回车。
    
6. 程序会弹出对话框，告诉您图像将被缩放到例如 `12345` 像素宽。**请点击“是”**。
    
7. 此时，左侧预览区会根据缩放后的图像进行更新。
    
8. 最后，点击【生成并保存图像...】。此时程序将直接使用已缩放的图像进行合成，不会再弹窗。
    

---

### 5. 常见问题解答 (FAQ)

- **问：如何测试打印机LPI？**
    
    - **答**：下载LPI测试图包，找到对应你的光栅卡实际LPI的测试图，将其导入任意排版软件并放大到整张A4纸大小(21x29.7cm)，必须确保横向为21cm，调整打印清晰度为最高进行打印。
    
	- 将你的光栅卡与条纹对齐，找到色差最小的条带，对应数值即为打印机的校准LPI。
    
- **问：需要提前统一图像大小吗？**
    
    - **答**：一般不需要，如果导入的图像大小不相同，程序将以第一张图像为准自动调整其他图像的尺寸。
        
- **问：为什么预览图看起来有点模糊？**
    
    - **答**：这是正常的。预览区显示的是实际图像的缩略图的处理结果，因此会损失一些清晰度。最终保存的文件是全分辨率的。
        
- **问：我应该如何选择“切片宽度”？**
    
    - **答**：这是一个经验值。通常，`2`到`6`像素是比较常用的范围。较小的值理论上效果更精细，但也更考验打印机的精度。您可以尝试用不同的值生成小尺寸的测试图来观察效果。
        
